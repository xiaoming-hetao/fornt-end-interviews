<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  <script type="text/javascript">
    // counter.js
exports.count = 0
setTimeout(function () {
  console.log('increase count to', ++exports.count, 'in counter.js after 500ms')
}, 500)

// common.js
const {count} = require('./counter')
setTimeout(function () {
  console.log('cjs count:', count)
}, 1000) 

    function nSquareMatrx(n) {
      let matrix = new Array(n).fill(0).map(() => new Array(n).fill(0))
      let left = 0,top = 0,right = n-1,bottom = n-1

      let count = 1

      while(count <= n*n) {
        // 左到右
        for(let col=left; col<=right; col++) {
          matrix[left][col] = count
          count++
        }

        // 上到下
        for (let row=top+1; row <= bottom; row++) {
          matrix[row][right] = count
          count++
        }

        // 右到左
        for (let col=right-1; col > 0; col--) {
          matrix[bottom][col] = count
          count++
        }

        // 下到上
        for (let row=bottom; row > top; row--) {
          matrix[row][left] = count
          count++
        }

        left++
        top++
        right--
        bottom--
      }

      return matrix
    }
    console.log(nSquareMatrx(3))
    console.log(nSquareMatrx(4))
  </script>
</body>
</html>