<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <script type="text/javascript">
    //instanceof 的判断原理（判断左值是否是右值的实例）
    // 遍历左边变量的原型链，看它是否在右边变量的原型上prototype，
    // 如果查找失败，会返回false

    // 任何对象都有一个prototype属性，指向这个对象的原型
    // __proto__,指向该对象的构造函数的原型对象
    // __proto__（隐式原型），prototype（显式原型）

    // 隐式原型指向创建这个对象的函数(constructor)的prototype
    // 隐式原型的作用：构成原型链，同样用于实现基于原型的继承。举个例子，当我们访问obj这个对象中的x属性时，如果在obj中找不到，那么就会沿着__proto__依次查找。
    function myinstanceof(left,right) {
      // 如果是基础类型则直接返回false
      if (typeof left !== 'object' || left === null) return false
        // let proto = Object.getPrototypeOf(left);
      let proto = left.__proto__;
      while(proto) {
        if (proto === right.prototype) {
          alert(true)
          return true;
        }
        proto = proto.__proto__;
      }

      return false;
    }

    function myInstanceof(left,right) {
      if (typeof left !== 'object' || left === null) return false

      let proto = left.__proto__

      while(proto) {
        if (proto === right.prototype) return true

        proto = proto.__proto__
      }

      return false
    }
    console.log(myInstanceof([],Array))
    alert(typeof null)
  </script>
</body>
</html>